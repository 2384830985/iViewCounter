(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-042181e0"],{"33bf":function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i}),a.d(t,"c",function(){return o}),a.d(t,"d",function(){return l}),a.d(t,"e",function(){return s});var r=a("eca5");function n(e){return Object(r["a"])({url:"/teacher/addOrUpdateOne",method:"POST",params:e})}function i(e){return Object(r["a"])({url:"/teacher/deleteOne?teacherId="+e,method:"POST"})}function o(e){return Object(r["a"])({url:"/teacher/selectActivitiesByTitle?title="+e,method:"POST"})}function l(e){return Object(r["a"])({url:"/teacher/selectByPage",method:"POST",params:e})}function s(e){return Object(r["a"])({url:"/teacher/selectOneById?teacherId="+e,method:"POST"})}},"7ab5":function(e){e.exports={}},e90d:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),a("Form",{ref:"formValidate",attrs:{model:e.formValidate,"label-width":80}},[a("Row",{staticStyle:{margin:"28px 0 14px"}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"教官名称",prop:"name"}},[a("Input",{attrs:{size:e.defaultSize,placeholder:""},model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"教官标签",prop:"label"}},[a("Select",{attrs:{size:e.defaultSize},model:{value:e.formValidate.label,callback:function(t){e.$set(e.formValidate,"label",t)},expression:"formValidate.label"}},e._l(e.teacherLabel,function(t){return a("Option",{attrs:{value:t.val}},[e._v(e._s(t.title))])}),1)],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"教官性别",prop:"sex"}},[a("Select",{attrs:{size:e.defaultSize},model:{value:e.formValidate.sex,callback:function(t){e.$set(e.formValidate,"sex",t)},expression:"formValidate.sex"}},e._l(e.teacherSex,function(t){return a("Option",{attrs:{value:t.val}},[e._v(e._s(t.title))])}),1)],1)],1)],1),a("Row",[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"排序依据",prop:"sortName"}},[a("Select",{attrs:{size:e.defaultSize},model:{value:e.formValidate.sortName,callback:function(t){e.$set(e.formValidate,"sortName",t)},expression:"formValidate.sortName"}},e._l(e.sortNameList,function(t){return a("Option",{attrs:{value:t.val}},[e._v(e._s(t.title))])}),1)],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"排序正反",prop:"sortOrder"}},[a("Select",{attrs:{size:e.defaultSize},model:{value:e.formValidate.sortOrder,callback:function(t){e.$set(e.formValidate,"sortOrder",t)},expression:"formValidate.sortOrder"}},[a("Option",{attrs:{value:"desc"}},[e._v("倒序")]),a("Option",{attrs:{value:"asc"}},[e._v("正序")])],1)],1)],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("搜索")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset("formValidate")}}},[e._v("重置")])],1)],1),a("h2",{staticStyle:{"padding-bottom":"10px",color:"#515a6e","border-bottom":"2px solid #515a6e"}},[e._v("教官列表")]),a("Table",{staticStyle:{margin:"20px 0"},attrs:{columns:e.jhColumns,data:e.jhData},scopedSlots:e._u([{key:"handle",fn:function(t){var r=t.row;return[a("div",{staticClass:"handle-item",on:{click:function(t){return e.teacherDeleteOneClick(r)}}},[e._v("删除")]),a("div",{staticClass:"handle-item",on:{click:function(t){return e.compileClick(r)}}},[e._v("编辑")])]}}])}),a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.jhTotal,current:e.formValidate.currentPage,"page-size":e.formValidate.size,"page-size-opts":[10,20,30,40],"show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changeSize}})],1)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",{staticStyle:{"padding-bottom":"10px",color:"#515a6e","border-bottom":"2px solid #515a6e"}},[e._v("教官管理")])])}],i=a("f499"),o=a.n(i),l=(a("7f7f"),a("c5f6"),a("ac6a"),a("33bf")),s=a("933b"),c=a("4bb0"),u=(a("7ab5"),{name:"coachList",components:{},data:function(){return{defaultSize:"large",formValidate:{currentPage:1,size:20,name:"",label:"",sex:"",sortName:"updateTime",sortOrder:"desc"},sortNameList:[{val:"updateTime",title:"编辑时间"}],jhColumns:[{title:"教官姓名",key:"name",align:"center"},{title:"教官性别",key:"sex",align:"center",render:function(e,t){return console.log(t),e("div",[s["a"].teacherSex(t.row.sex)])}},{title:"教官标签",key:"labelList",align:"center",render:function(e,t){var a="";return t.row.labelList.forEach(function(e,t){a=a+s["a"].teacherLabel(e)+","}),e("div",[a])}},{title:"参加活动次数",key:"activityNum",align:"center",render:function(e,t){return console.log(t),e("div",[t.row.activityNum?t.row.activityNum:0])}},{title:"编辑时间",key:"updateTime",align:"center"},{title:"操作",slot:"handle",key:"handle",align:"center"}],jhData:[],pageNumber:1,pageSize:20,jhTotal:100,teacherLabel:c["a"].teacherLabel,teacherSex:c["a"].teacherSex}},created:function(){var e=this.Jump.deep(this.$route.query);this.formValidate.currentPage=e.pageNumber?Number(e.pageNumber):1,this.formValidate.size=e.pageSize?Number(e.pageSize):20,this.start(this.formValidate)},mounted:function(){},methods:{start:function(e){var t=this;Object(l["d"])(e).then(function(e){0==e.code?(t.jhData=e.data.rows,t.jhTotal=e.data.total):e.text?t.$Message.warning(e.text):t.$Message.warning("错误")})},teacherDeleteOneClick:function(e){var t=this;this.$Modal.confirm({title:"确认",content:"确认删除「".concat(e.name,"」教官"),onText:"删除",onOk:function(){Object(l["b"])(e.teacherId).then(function(a){0==a.code?(t.$Message.warning("成功删除「".concat(e.name,"」教官")),t.start()):a.text?t.$Message.warning(a.text):t.$Message.warning("错误")})}})},compileClick:function(e){this.$router.push("/home/coachAdd?teacherId=".concat(e.teacherId))},getActivity:function(){},handleSubmit:function(e){this.formValidate.currentPage=1,this.formValidate.size=20;var t=this.formValidate;this.start(t)},handleReset:function(e){this.$refs["formValidate"].resetFields(),this.formValidate.sortName="updateTime",this.formValidate.sortOrder="desc"},handleItem:function(e,t){console.log(e,t)},changePage:function(e){var t=this.$route.name,a=this.Jump.deep(this.$route.query),r=[o()(e),o()(this.formValidate.size)];a.pageNumber=r[0],a.pageSize=r[1],this.$router.push({name:t,query:a})},changeSize:function(e){var t=this.$route.name,a=this.Jump.deep(this.$route.query),r=["1",o()(e)];a.pageNumber=r[0],a.pageSize=r[1],this.$router.push({name:t,query:a})}}}),d=u,m=(a("fb87"),a("2877")),f=Object(m["a"])(d,r,n,!1,null,null,null);t["default"]=f.exports},f74f:function(e,t,a){},fb87:function(e,t,a){"use strict";var r=a("f74f"),n=a.n(r);n.a}}]);